# 交易章节疑问

1. UTXO集在区块链中真实存在吗？

   - 不存在，是存在各个节点的内存中的
2. UTXO分散在不同的区块中，一个用户的比特币余额怎么计算？

   - 比特币钱包通过扫描区块链并聚集所有属于该用户的UTXO来计算该用户的余额。大多数钱包维护一个数据库或使用数据库服务来存储所有的UTXO的快速参考集
3. 一个UTXO只能在一次交易中作为一个整体被消耗，为什么呢？

   - 想象一下，一位顾客要买1.5元的饮料。她掏出钱包并试图从所有硬币和钞票中找出一种组合来凑齐她要支付的1.5 元。如果可能的话，她会选刚刚好的零钱（比如一张1元纸币和5个一毛硬币）或者是小面额的组合（比如3个五毛硬币）。如果都不行的话，她会用一张大面额的钞票，比如5元纸币。如果她把5元给了商店老板，她会得到3.5元的找零，并把找零放回她的钱包以供未来的交易使用。 
4. 输入和输出，哪一个先产生呢？先有鸡还是先有蛋呢？

   - 严格来讲，先产生输出，因为可以创造新的比特币的币基交易没有输入，但他可以无中生有的产生输出
5. 在比特币里，没有具体的货币，没有发送者，没有接收者，没有余额，没有账户，没有地址。那有什么呢？

   - 有很多奇怪和难以辨认的字段以及十六进制字符串。输出的比特币数量和锁定脚本；输入的UTXO交易id、输出序列号、解锁脚本、序列号
6. 用户的钱包收到比特币，怎么理解？

   - 钱包检测到了可用的UTXO（未花费的输出），通过钱包所控制的秘钥，我们可以把UTXO花出去。因此用户的比特币余额是指用户钱包中可用的UTXO总和，而他们可能分散在数百个交易和区块中。大多数钱包会维护一个数据库或者使用数据库服务来存储所有的UTXO的快速参考机，这些UTXO由用户所有的秘钥控制花费行为。
7. 比特币最小单位是什么？

   - 聪，1比特币=10^8聪
8. 0.015比特币的价值是1500000聪，这是16进制的16 e3 60, 在串行化交易中，值16 e3 60以小端(最低有效字节优先)字节顺序进行编码，所以他看起来像60 e3 16 ?

   - 
9. scriptPubKey的长度为25个字节，以十六进制显示为19字节？

   - 
10. 解锁脚本，钱包构建它用来满足设定在UTXO中的支出条件。大多数条件下是一个证明比特币所有权的数字签名和公钥，但是并不是所有的解锁脚本都包含签名。
    - 
11. 交易费是如何计算的？

    - 大多数钱包自动计算并计入交易费。但是，如果你以编程方式构造交易费，或者使用命令行界面，你必须手动计算并计入这些费用
    - 交易费是基于交易的千字节规模来计算的，而不是比特币交易的价值。总的来说，交易费是根据比特币网络中的市场力量确定的。
    - 交易费是指输入和输出之间的差值。从所有输入中扣掉所有输出之后的多余的量会被矿工作为矿工费收集走。
12. 一笔常规交易的大小约为226字节
13. 比特币交易验证并不基于静态模式，而是通过脚本语言的执行来实现的。这种语言允许表达几乎无限条件，这也是比特币作为一种可编程的货币所拥有的力量
14. 比特币交易脚本可以引发“拒绝攻击”吗

    - 不会，因为比特币交易脚本不是图灵完备的，没有循环及复杂流控制能力
15. 为什么比特币交易费用是根据交易的字节大小来判断

    - 一个区块的大小是有限制的，大概1M，交易越大，占用的空间越大
16. SIGHASH类型 理解
    - 